{"version":3,"sources":["pictures-test.js"],"names":["t","image","fixtures","getImage","srv","pictures","url","body","uri","publicId","json","deepEqual","test","todo"],"mappings":";AAAA;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;;AAJA;;;AAMA,mBAAK,UAAL;AAAA,+BAAiB,WAAMA,CAAN,EAAW;AAC1B;AACA,QAAIC,QAAQC,mBAASC,QAAT,EAAZ;;AAEA,QAAIC,MAAM,qBAAMC,kBAAN,CAAV;AACA;AACA;AACA;;AAEA,QAAIC,MAAM,MAAM,0BAAOF,GAAP,CAAhB;AACA,QAAIG,OAAO,MAAM,8BAAQ,EAAEC,KAAM,GAAEF,GAAI,IAAGL,MAAMQ,QAAS,EAAhC,EAAmCC,MAAM,IAAzC,EAAR,CAAjB;AACAV,MAAEW,SAAF,CAAYJ,IAAZ,EAAkBN,KAAlB;AACA;AACA;AACA;AACD,GAfD;;AAAA;AAAA;AAAA;AAAA;;AAiBAW,cAAKC,IAAL,CAAU,QAAV;AACAD,cAAKC,IAAL,CAAU,gBAAV","file":"pictures-test.js","sourcesContent":["'user strict'\r\n\r\nimport test from 'ava'\r\nimport micro from 'micro'\r\n// import uuid from 'uuid-base62'\r\nimport listen from 'test-listen'\r\nimport request from 'request-promise'\r\nimport pictures from '../pictures'\r\nimport fixtures from './fixtures'\r\n\r\ntest('GET /:id', async t => {\r\n  // let id = uuid.v4()\r\n  let image = fixtures.getImage()\r\n\r\n  let srv = micro(pictures)\r\n  // let srv = micro(async (req, res) => {\r\n  //   send(res, 200, { id })\r\n  // })\r\n\r\n  let url = await listen(srv)\r\n  let body = await request({ uri: `${url}/${image.publicId}`, json: true })\r\n  t.deepEqual(body, image)\r\n  // let body = await request({ uri: `${url}/${id}`, json: true })\r\n  // let body = await request({ url: url, json: true })\r\n  // t.deepEqual(body, { id })\r\n})\r\n\r\ntest.todo('POST /')\r\ntest.todo('POST /:id/like')\r\n"]}